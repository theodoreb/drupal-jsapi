<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="generator" content="HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
    <meta charset="utf-8">
    <title>
      Source: modules/edit/js/edit.js — Drupal JS API
    </title>
    <script src="scripts/prettify/prettify.js" type="text/javascript">
</script>
    <script src="scripts/prettify/lang-css.js" type="text/javascript">
</script>
    <link type="text/css" rel="stylesheet" href="pure/pure.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/drupal.css">
  </head>
  <body>
    <div id="main" class="pure">
      <div class="pure-g">
        <div class="pure-u-4-5">
          <div class="box">
            <h1 class="page-title">
              Source: modules/edit/js/edit.js
            </h1>
            <section>
              <article>
                <pre class="prettyprint source">
<code>/**
 * @file
 * Attaches behavior for the Edit module.
 *
 * Everything happens asynchronously, to allow for:
 *
 *   - dynamically rendered contextual links
 *   - asynchronously retrieved (and cached) per-field in-place editing metadata
 *   - asynchronous setup of in-place editable field and "Quick edit" link
 *
 * To achieve this, there are several queues:
 *
 *   - fieldsMetadataQueue: fields whose metadata still needs to be fetched.
 *   - fieldsAvailableQueue: queue of fields whose metadata is known, and for
 *     which it has been confirmed that the user has permission to edit them.
 *     However, FieldModels will only be created for them once there's a
 *     contextual link for their entity: when it's possible to initiate editing.
 *   - contextualLinksQueue: queue of contextual links on entities for which it
 *     is not yet known whether the user has permission to edit at &gt;=1 of them.
 */

(function ($, _, Backbone, Drupal, drupalSettings, JSON, storage) {

"use strict";

var options = $.extend(drupalSettings.edit,
  // Merge strings on top of drupalSettings so that they are not mutable.
  {
    strings: {
      quickEdit: Drupal.t('Quick edit')
    }
  }
);

/**
 * Tracks fields without metadata. Contains objects with the following keys:
 *   - DOM el
 *   - String fieldID
 *   - String entityID
 */
var fieldsMetadataQueue = [];

/**
 * Tracks fields ready for use. Contains objects with the following keys:
 *   - DOM el
 *   - String fieldID
 *   - String entityID
 */
var fieldsAvailableQueue = [];

/**
 * Tracks contextual links on entities. Contains objects with the following
 * keys:
 *   - String entityID
 *   - DOM el
 *   - DOM region
 */
var contextualLinksQueue = [];

/**
 * Tracks how many instances exist for each unique entity. Contains key-value
 * pairs:
 * - String entityID
 * - Number count
 */
var entityInstancesTracker = {};

/**
 * @type {Behavior}
 */
Drupal.behaviors.edit = {
  attach: function (context) {
    // Initialize the Edit app once per page load.
    $('body').once('edit-init', initEdit);

    // Find all in-place editable fields, if any.
    var $fields = $(context).find('[data-edit-field-id]').once('edit');
    if ($fields.length === 0) {
      return;
    }

    // Process each entity element: identical entities that appear multiple
    // times will get a numeric identifier, starting at 0.
    $(context).find('[data-edit-entity-id]').once('edit').each(function (index, entityElement) {
      processEntity(entityElement);
    });

    // Process each field element: queue to be used or to fetch metadata.
    // When a field is being rerendered after editing, it will be processed
    // immediately. New fields will be unable to be processed immediately, but
    // will instead be queued to have their metadata fetched, which occurs below
    // in fetchMissingMetaData().
    $fields.each(function (index, fieldElement) {
      processField(fieldElement);
    });

    // Entities and fields on the page have been detected, try to set up the
    // contextual links for those entities that already have the necessary meta-
    // data in the client-side cache.
    contextualLinksQueue = _.filter(contextualLinksQueue, function (contextualLink) {
      return !initializeEntityContextualLink(contextualLink);
    });

    // Fetch metadata for any fields that are queued to retrieve it.
    fetchMissingMetadata(function (fieldElementsWithFreshMetadata) {
      // Metadata has been fetched, reprocess fields whose metadata was missing.
      _.each(fieldElementsWithFreshMetadata, processField);

      // Metadata has been fetched, try to set up more contextual links now.
      contextualLinksQueue = _.filter(contextualLinksQueue, function (contextualLink) {
        return !initializeEntityContextualLink(contextualLink);
      });
    });
  },
  detach: function (context, settings, trigger) {
    if (trigger === 'unload') {
      deleteContainedModelsAndQueues($(context));
    }
  }
};

/**
 * @namespace
 */
Drupal.edit = {
  /**
   * @type {?Drupal.edit.AppView}
   */
  app: null,

  /**
   * @type {Object}
   * @prop {Drupal.edit.EntityCollection} entities
   *   All in-place editable entities on the page
   * @prop {Drupal.edit.FieldCollection} fields
   *   All in-place editable fields on the page
   */
  collections: {
    entities: null,
    fields: null
  },

  /**
   * In-place editors will register themselves in this object.
   * @type {Object.&lt;Drupal.edit.EditorModel&gt;}
   */
  editors: {},

  /**
   * Per-field metadata that indicates whether in-place editing is allowed,
   * which in-place editor should be used, etc.
   * @namespace
   */
  metadata: {
    /**
     * @param {String} fieldID
     * @returns {Boolean}
     */
    has: function (fieldID) {
      return storage.getItem(this._prefixFieldID(fieldID)) !== null;
    },
    /**
     * @param {String} fieldID
     * @param {*} metadata
     */
    add: function (fieldID, metadata) {
      storage.setItem(this._prefixFieldID(fieldID), JSON.stringify(metadata));
    },
    /**
     * @param {String} fieldID
     * @param {String} key
     * @returns {*}
     */
    get: function (fieldID, key) {
      var metadata = JSON.parse(storage.getItem(this._prefixFieldID(fieldID)));
      return (key === undefined) ? metadata : metadata[key];
    },
    /**
     * @param {String} fieldID
     * @returns {String}
     */
    _prefixFieldID: function (fieldID) {
      return 'Drupal.edit.metadata.' + fieldID;
    },
    /**
     * @param {String} fieldID
     * @returns {String}
     */
    _unprefixFieldID: function (fieldID) {
      // Strip "Drupal.edit.metadata.", which is 21 characters long.
      return fieldID.substring(21);
    },
    /**
     * @param {Array} fieldIDs
     * @returns {Array}
     */
    intersection: function (fieldIDs) {
      var prefixedFieldIDs = _.map(fieldIDs, this._prefixFieldID);
      var intersection = _.intersection(prefixedFieldIDs, _.keys(sessionStorage));
      return _.map(intersection, this._unprefixFieldID);
    }
  }
};

// Clear the Edit metadata cache whenever the current user's set of permissions
// changes.
var permissionsHashKey = Drupal.edit.metadata._prefixFieldID('permissionsHash');
var permissionsHashValue = storage.getItem(permissionsHashKey);
var permissionsHash = drupalSettings.user.permissionsHash;
if (permissionsHashValue !== permissionsHash) {
  if (typeof permissionsHash === 'string') {
    _.chain(storage).keys().each(function (key) {
      if (key.substring(0, 21) === 'Drupal.edit.metadata.') {
        storage.removeItem(key);
      }
    });
  }
  storage.setItem(permissionsHashKey, permissionsHash);
}

/**
 * Detect contextual links on entities annotated by Edit; queue these to be
 * processed.
 */
$(document).on('drupalContextualLinkAdded', function (event, data) {
  if (data.$region.is('[data-edit-entity-id]')) {
    // If the contextual link is cached on the client side, an entity instance
    // will not yet have been assigned. So assign one.
    if (!data.$region.is('[data-edit-entity-instance-id]')) {
      data.$region.once('edit');
      processEntity(data.$region.get(0));
    }
    var contextualLink = {
      entityID: data.$region.attr('data-edit-entity-id'),
      entityInstanceID: data.$region.attr('data-edit-entity-instance-id'),
      el: data.$el[0],
      region: data.$region[0]
    };
    // Set up contextual links for this, otherwise queue it to be set up later.
    if (!initializeEntityContextualLink(contextualLink)) {
      contextualLinksQueue.push(contextualLink);
    }
  }
});

/**
 * Extracts the entity ID from a field ID.
 *
 * @param {String} fieldID
 *   A field ID: a string of the format
 *   `&lt;entity type&gt;/&lt;id&gt;/&lt;field name&gt;/&lt;language&gt;/&lt;view mode&gt;`.
 * @return {String}
 *   An entity ID: a string of the format `&lt;entity type&gt;/&lt;id&gt;`.
 */
function extractEntityID (fieldID) {
  return fieldID.split('/').slice(0, 2).join('/');
}

/**
 * Initialize the Edit app.
 *
 * @param {HTMLElement} bodyElement
 *   This document's body element.
 */
function initEdit (bodyElement) {
  Drupal.edit.collections.entities = new Drupal.edit.EntityCollection();
  Drupal.edit.collections.fields = new Drupal.edit.FieldCollection();

  // Instantiate AppModel (application state) and AppView, which is the
  // controller of the whole in-place editing experience.
  Drupal.edit.app = new Drupal.edit.AppView({
    el: bodyElement,
    model: new Drupal.edit.AppModel(),
    entitiesCollection: Drupal.edit.collections.entities,
    fieldsCollection: Drupal.edit.collections.fields
  });
}

/**
 * Assigns the entity an instance ID.
 *
 * @param {HTMLElement} entityElement.
 *   A Drupal Entity API entity's DOM element with a data-edit-entity-id
 *   attribute.
 */
function processEntity (entityElement) {
  var entityID = entityElement.getAttribute('data-edit-entity-id');
  if (!entityInstancesTracker.hasOwnProperty(entityID)) {
    entityInstancesTracker[entityID] = 0;
  }
  else {
    entityInstancesTracker[entityID]++;
  }

  // Set the calculated entity instance ID for this element.
  var entityInstanceID = entityInstancesTracker[entityID];
  entityElement.setAttribute('data-edit-entity-instance-id', entityInstanceID);
}

/**
 * Fetch the field's metadata; queue or initialize it (if EntityModel exists).
 *
 * @param {HTMLElement} fieldElement
 *   A Drupal Field API field's DOM element with a data-edit-field-id attribute.
 */
function processField (fieldElement) {
  var metadata = Drupal.edit.metadata;
  var fieldID = fieldElement.getAttribute('data-edit-field-id');
  var entityID = extractEntityID(fieldID);
  // Figure out the instance ID by looking at the ancestor [data-edit-entity-id]
  // element's data-edit-entity-instance-id attribute.
  var entityElementSelector = '[data-edit-entity-id="' + entityID + '"]';
  var entityElement = $(fieldElement).closest(entityElementSelector);
  // In the case of a full entity view page, the entity title is rendered
  // outside of "the entity DOM node": it's rendered as the page title. So in
  // this case, we must find the entity in the mandatory "content" region.
  if (entityElement.length === 0) {
    entityElement = $('.region-content').find(entityElementSelector);
  }
  var entityInstanceID = entityElement
    .get(0)
    .getAttribute('data-edit-entity-instance-id');

  // Early-return if metadata for this field is missing.
  if (!metadata.has(fieldID)) {
    fieldsMetadataQueue.push({
      el: fieldElement,
      fieldID: fieldID,
      entityID: entityID,
      entityInstanceID: entityInstanceID
    });
    return;
  }
  // Early-return if the user is not allowed to in-place edit this field.
  if (metadata.get(fieldID, 'access') !== true) {
    return;
  }

  // If an EntityModel for this field already exists (and hence also a "Quick
  // edit" contextual link), then initialize it immediately.
  if (Drupal.edit.collections.entities.findWhere({ entityID: entityID, entityInstanceID: entityInstanceID })) {
    initializeField(fieldElement, fieldID, entityID, entityInstanceID);
  }
  // Otherwise: queue the field. It is now available to be set up when its
  // corresponding entity becomes in-place editable.
  else {
    fieldsAvailableQueue.push({ el: fieldElement, fieldID: fieldID, entityID: entityID, entityInstanceID: entityInstanceID });
  }
}

/**
 * Initialize a field; create FieldModel.
 *
 * @param {HTMLElement} fieldElement
 *   The field's DOM element.
 * @param {String} fieldID
 *   The field's ID.
 * @param {String} entityID
 *   The field's entity's ID.
 * @param {String} entityInstanceID
 *   The field's entity's instance ID.
 */
function initializeField (fieldElement, fieldID, entityID, entityInstanceID) {
  var entity = Drupal.edit.collections.entities.findWhere({
    entityID: entityID,
    entityInstanceID: entityInstanceID
  });

  $(fieldElement).addClass('edit-field');

  // The FieldModel stores the state of an in-place editable entity field.
  var field = new Drupal.edit.FieldModel({
    el: fieldElement,
    fieldID: fieldID,
    id: fieldID + '[' + entity.get('entityInstanceID') + ']',
    entity: entity,
    metadata: Drupal.edit.metadata.get(fieldID),
    acceptStateChange: _.bind(Drupal.edit.app.acceptEditorStateChange, Drupal.edit.app)
  });

  // Track all fields on the page.
  Drupal.edit.collections.fields.add(field);
}

/**
 * Fetches metadata for fields whose metadata is missing.
 *
 * Fields whose metadata is missing are tracked at fieldsMetadataQueue.
 *
 * @param {Function} callback
 *   A callback function that receives field elements whose metadata will just
 *   have been fetched.
 */
function fetchMissingMetadata (callback) {
  if (fieldsMetadataQueue.length) {
    var fieldIDs = _.pluck(fieldsMetadataQueue, 'fieldID');
    var fieldElementsWithoutMetadata = _.pluck(fieldsMetadataQueue, 'el');
    var entityIDs = _.uniq(_.pluck(fieldsMetadataQueue, 'entityID'), true);
    // Ensure we only request entityIDs for which we don't have metadata yet.
    entityIDs = _.difference(entityIDs, Drupal.edit.metadata.intersection(entityIDs));
    fieldsMetadataQueue = [];

    $.ajax({
      url: Drupal.url('edit/metadata'),
      type: 'POST',
      data: {
        'fields[]': fieldIDs,
        'entities[]': entityIDs
      },
      dataType: 'json',
      success: function(results) {
        // Store the metadata.
        _.each(results, function (fieldMetadata, fieldID) {
          Drupal.edit.metadata.add(fieldID, fieldMetadata);
        });

        callback(fieldElementsWithoutMetadata);
      }
    });
  }
}

/**
 * Loads missing in-place editor's attachments (JavaScript and CSS files).
 *
 * Missing in-place editors are those whose fields are actively being used on
 * the page but don't have
 *
 * @param {Function} callback
 *   Callback function to be called when the missing in-place editors (if any)
 *   have been inserted into the DOM. i.e. they may still be loading.
 */
function loadMissingEditors (callback) {
  var loadedEditors = _.keys(Drupal.edit.editors);
  var missingEditors = [];
  Drupal.edit.collections.fields.each(function (fieldModel) {
    var metadata = Drupal.edit.metadata.get(fieldModel.get('fieldID'));
    if (metadata.access &amp;&amp; _.indexOf(loadedEditors, metadata.editor) === -1) {
      missingEditors.push(metadata.editor);
    }
  });
  missingEditors = _.uniq(missingEditors);
  if (missingEditors.length === 0) {
    callback();
  }

  // @todo Simplify this once https://drupal.org/node/1533366 lands.
  // @see https://drupal.org/node/2029999.
  var id = 'edit-load-editors';
  // Create a temporary element to be able to use Drupal.ajax.
  var $el = $('&lt;div id="' + id + '" class="element-hidden"&gt;&lt;/div&gt;').appendTo('body');
  // Create a Drupal.ajax instance to load the form.
  var loadEditorsAjax = new Drupal.ajax(id, $el, {
    url: Drupal.url('edit/attachments'),
    event: 'edit-internal.edit',
    submit: { 'editors[]': missingEditors },
    // No progress indicator.
    progress: { type: null }
  });
  // Implement a scoped insert AJAX command: calls the callback after all AJAX
  // command functions have been executed (hence the deferred calling).
  var realInsert = Drupal.AjaxCommands.prototype.insert;
  loadEditorsAjax.commands.insert = function (ajax, response, status) {
    _.defer(callback);
    realInsert(ajax, response, status);
    $el.off('edit-internal.edit');
    $el.remove();
  };
  // Trigger the AJAX request, which will should return AJAX commands to insert
  // any missing attachments.
  $el.trigger('edit-internal.edit');
}

/**
 * Attempts to set up a "Quick edit" link and corresponding EntityModel.
 *
 * @param {Object} contextualLink
 *   An object with the following properties:
 *
 *     - String entityID: an Edit entity identifier, e.g. "node/1" or
 *       "custom_block/5".
 *     - String entityInstanceID: an Edit entity instance identifier, e.g. 0, 1
 *       or n (depending on whether it's the first, second, or n+1st instance of
 *       this entity).
 *     - DOM el: element pointing to the contextual links placeholder for this
 *       entity.
 *     - DOM region: element pointing to the contextual region for this entity.
 *
 * @return {Boolean}
 *   Returns true when a contextual the given contextual link metadata can be
 *   removed from the queue (either because the contextual link has been set up
 *   or because it is certain that in-place editing is not allowed for any of
 *   its fields).
 *   Returns false otherwise.
 */
function initializeEntityContextualLink (contextualLink) {
  var metadata = Drupal.edit.metadata;
  // Check if the user has permission to edit at least one of them.
  function hasFieldWithPermission (fieldIDs) {
    for (var i = 0; i &lt; fieldIDs.length; i++) {
      var fieldID = fieldIDs[i];
      if (metadata.get(fieldID, 'access') === true) {
        return true;
      }
    }
    return false;
  }

  // Checks if the metadata for all given field IDs exists.
  function allMetadataExists (fieldIDs) {
    return fieldIDs.length === metadata.intersection(fieldIDs).length;
  }

  // Find all fields for this entity instance and collect their field IDs.
  var fields = _.where(fieldsAvailableQueue, {
    entityID: contextualLink.entityID,
    entityInstanceID: contextualLink.entityInstanceID
  });
  var fieldIDs = _.pluck(fields, 'fieldID');

  // No fields found yet.
  if (fieldIDs.length === 0) {
    return false;
  }
  // The entity for the given contextual link contains at least one field that
  // the current user may edit in-place; instantiate EntityModel,
  // EntityDecorationView and ContextualLinkView.
  else if (hasFieldWithPermission(fieldIDs)) {
    var entityModel = new Drupal.edit.EntityModel({
      el: contextualLink.region,
      entityID: contextualLink.entityID,
      entityInstanceID: contextualLink.entityInstanceID,
      id: contextualLink.entityID + '[' + contextualLink.entityInstanceID + ']',
      label: Drupal.edit.metadata.get(contextualLink.entityID, 'label')
    });
    Drupal.edit.collections.entities.add(entityModel);
    // Create an EntityDecorationView associated with the root DOM node of the
    // entity.
    var entityDecorationView = new Drupal.edit.EntityDecorationView({
      el: contextualLink.region,
      model: entityModel
    });
    entityModel.set('entityDecorationView', entityDecorationView);

    // Initialize all queued fields within this entity (creates FieldModels).
    _.each(fields, function (field) {
      initializeField(field.el, field.fieldID, contextualLink.entityID, contextualLink.entityInstanceID);
    });
    fieldsAvailableQueue = _.difference(fieldsAvailableQueue, fields);

    // Initialization should only be called once. Use Underscore's once method
    // to get a one-time use version of the function.
    var initContextualLink = _.once(function () {
      var $links = $(contextualLink.el).find('.contextual-links');
      var contextualLinkView = new Drupal.edit.ContextualLinkView($.extend({
        el: $('&lt;li class="quick-edit"&gt;&lt;a href="" role="button" aria-pressed="false"&gt;&lt;/a&gt;&lt;/li&gt;').prependTo($links),
        model: entityModel,
        appModel: Drupal.edit.app.model
      }, options));
      entityModel.set('contextualLinkView', contextualLinkView);
    });

    // Set up ContextualLinkView after loading any missing in-place editors.
    loadMissingEditors(initContextualLink);

    return true;
  }
  // There was not at least one field that the current user may edit in-place,
  // even though the metadata for all fields within this entity is available.
  else if (allMetadataExists(fieldIDs)) {
    return true;
  }

  return false;
}

/**
 * Delete models and queue items that are contained within a given context.
 *
 * Deletes any contained EntityModels (plus their associated FieldModels and
 * ContextualLinkView) and FieldModels, as well as the corresponding queues.
 *
 * After EntityModels, FieldModels must also be deleted, because it is possible
 * in Drupal for a field DOM element to exist outside of the entity DOM element,
 * e.g. when viewing the full node, the title of the node is not rendered within
 * the node (the entity) but as the page title.
 *
 * Note: this will not delete an entity that is actively being in-place edited.
 *
 * @param {jQueryObject} $context
 *   The context within which to delete.
 */
function deleteContainedModelsAndQueues($context) {
  $context.find('[data-edit-entity-id]').addBack('[data-edit-entity-id]').each(function (index, entityElement) {
    // Delete entity model.
    var entityModel = Drupal.edit.collections.entities.findWhere({el: entityElement});
    if (entityModel) {
      var contextualLinkView = entityModel.get('contextualLinkView');
      contextualLinkView.undelegateEvents();
      contextualLinkView.remove();
      // Remove the EntityDecorationView.
      entityModel.get('entityDecorationView').remove();
      // Destroy the EntityModel; this will also destroy its FieldModels.
      entityModel.destroy();
    }

    // Filter queue.
    function hasOtherRegion (contextualLink) {
      return contextualLink.region !== entityElement;
    }
    contextualLinksQueue = _.filter(contextualLinksQueue, hasOtherRegion);
  });

  $context.find('[data-edit-field-id]').addBack('[data-edit-field-id]').each(function (index, fieldElement) {
    // Delete field models.
    Drupal.edit.collections.fields.chain()
      .filter(function (fieldModel) { return fieldModel.get('el') === fieldElement; })
      .invoke('destroy');

    // Filter queues.
    function hasOtherFieldElement (field) {
      return field.el !== fieldElement;
    }
    fieldsMetadataQueue = _.filter(fieldsMetadataQueue, hasOtherFieldElement);
    fieldsAvailableQueue = _.filter(fieldsAvailableQueue, hasOtherFieldElement);
  });
}

})(jQuery, _, Backbone, Drupal, drupalSettings, window.JSON, window.sessionStorage);
</code>
</pre>
              </article>
            </section>
          </div>
        </div>
        <nav class="pure-u-1-5">
          <div class="box">
            <h2>
              <a href="index.html">Index</a>
            </h2>
            <h3>
              Classes
            </h3>
            <ul>
              <li>
                <a href="Drupal.ajax.html">Drupal.ajax</a>
              </li>
              <li>
                <a href="Drupal.AjaxCommands.html">Drupal.AjaxCommands</a>
              </li>
              <li>
                <a href="Drupal.AjaxError.html">Drupal.AjaxError</a>
              </li>
              <li>
                <a href="Drupal.CollapsibleDetails.html">Drupal.CollapsibleDetails</a>
              </li>
              <li>
                <a href="Drupal.contextual.AuralView.html">Drupal.contextual.AuralView</a>
              </li>
              <li>
                <a href="Drupal.contextual.KeyboardView.html">Drupal.contextual.KeyboardView</a>
              </li>
              <li>
                <a href="Drupal.contextual.RegionView.html">Drupal.contextual.RegionView</a>
              </li>
              <li>
                <a href="Drupal.contextual.StateModel.html">Drupal.contextual.StateModel</a>
              </li>
              <li>
                <a href="Drupal.contextual.VisualView.html">Drupal.contextual.VisualView</a>
              </li>
              <li>
                <a href="Drupal.contextualToolbar.Model.html">Drupal.contextualToolbar.Model</a>
              </li>
              <li>
                <a href="Drupal.contextualToolbar.VisualView.html">Drupal.contextualToolbar.VisualView</a>
              </li>
              <li>
                <a href="Drupal.DropButton.html">Drupal.DropButton</a>
              </li>
              <li>
                <a href="Drupal.edit.AppModel.html">Drupal.edit.AppModel</a>
              </li>
              <li>
                <a href="Drupal.edit.AppView.html">Drupal.edit.AppView</a>
              </li>
              <li>
                <a href="Drupal.edit.BaseModel.html">Drupal.edit.BaseModel</a>
              </li>
              <li>
                <a href="Drupal.edit.ContextualLinkView.html">Drupal.edit.ContextualLinkView</a>
              </li>
              <li>
                <a href="Drupal.edit.EditorModel.html">Drupal.edit.EditorModel</a>
              </li>
              <li>
                <a href="Drupal.edit.editors.editor.html">Drupal.edit.editors.editor</a>
              </li>
              <li>
                <a href="Drupal.edit.editors.form.html">Drupal.edit.editors.form</a>
              </li>
              <li>
                <a href="Drupal.edit.editors.plain_text.html">Drupal.edit.editors.plain_text</a>
              </li>
              <li>
                <a href="Drupal.edit.EditorView.html">Drupal.edit.EditorView</a>
              </li>
              <li>
                <a href="Drupal.edit.EntityCollection.html">Drupal.edit.EntityCollection</a>
              </li>
              <li>
                <a href="Drupal.edit.EntityDecorationView.html">Drupal.edit.EntityDecorationView</a>
              </li>
              <li>
                <a href="Drupal.edit.EntityModel.html">Drupal.edit.EntityModel</a>
              </li>
              <li>
                <a href="Drupal.edit.EntityToolbarView.html">Drupal.edit.EntityToolbarView</a>
              </li>
              <li>
                <a href="Drupal.edit.FieldCollection.html">Drupal.edit.FieldCollection</a>
              </li>
              <li>
                <a href="Drupal.edit.FieldDecorationView.html">Drupal.edit.FieldDecorationView</a>
              </li>
              <li>
                <a href="Drupal.edit.FieldModel.html">Drupal.edit.FieldModel</a>
              </li>
              <li>
                <a href="Drupal.edit.FieldToolbarView.html">Drupal.edit.FieldToolbarView</a>
              </li>
              <li>
                <a href="Drupal.EditorFeature.html">Drupal.EditorFeature</a>
              </li>
              <li>
                <a href="Drupal.EditorFeatureHTMLRule.html">Drupal.EditorFeatureHTMLRule</a>
              </li>
              <li>
                <a href="Drupal.fieldUIDisplayOverview.field.html">Drupal.fieldUIDisplayOverview.field</a>
              </li>
              <li>
                <a href="Drupal.FilterHTMLRule.html">Drupal.FilterHTMLRule</a>
              </li>
              <li>
                <a href="Drupal.FilterStatus.html">Drupal.FilterStatus</a>
              </li>
              <li>
                <a href="Drupal.ProgressBar.html">Drupal.ProgressBar</a>
              </li>
              <li>
                <a href="Drupal.states.Dependent.html">Drupal.states.Dependent</a>
              </li>
              <li>
                <a href="Drupal.states.State.html">Drupal.states.State</a>
              </li>
              <li>
                <a href="Drupal.states.Trigger.html">Drupal.states.Trigger</a>
              </li>
              <li>
                <a href="Drupal.tableDrag.html">Drupal.tableDrag</a>
              </li>
              <li>
                <a href="Drupal.TableHeader.html">Drupal.TableHeader</a>
              </li>
              <li>
                <a href="Drupal.TableResponsive.html">Drupal.TableResponsive</a>
              </li>
              <li>
                <a href="Drupal.toolbar.BodyVisualView.html">Drupal.toolbar.BodyVisualView</a>
              </li>
              <li>
                <a href="Drupal.toolbar.MenuModel.html">Drupal.toolbar.MenuModel</a>
              </li>
              <li>
                <a href="Drupal.toolbar.MenuVisualView.html">Drupal.toolbar.MenuVisualView</a>
              </li>
              <li>
                <a href="Drupal.toolbar.ToolbarAuralView.html">Drupal.toolbar.ToolbarAuralView</a>
              </li>
              <li>
                <a href="Drupal.toolbar.ToolbarModel.html">Drupal.toolbar.ToolbarModel</a>
              </li>
              <li>
                <a href="Drupal.toolbar.ToolbarVisualView.html">Drupal.toolbar.ToolbarVisualView</a>
              </li>
              <li>
                <a href="Drupal.tour.models.StateModel.html">Drupal.tour.models.StateModel</a>
              </li>
              <li>
                <a href="Drupal.tour.views.ToggleTourView.html">Drupal.tour.views.ToggleTourView</a>
              </li>
              <li>
                <a href="Drupal.verticalTab.html">Drupal.verticalTab</a>
              </li>
              <li>
                <a href="Drupal.views.ajaxView.html">Drupal.views.ajaxView</a>
              </li>
              <li>
                <a href="Drupal.viewsUi.AddItemForm.html">Drupal.viewsUi.AddItemForm</a>
              </li>
              <li>
                <a href="Drupal.viewsUi.Checkboxifier.html">Drupal.viewsUi.Checkboxifier</a>
              </li>
              <li>
                <a href="Drupal.viewsUi.FormFieldFiller.html">Drupal.viewsUi.FormFieldFiller</a>
              </li>
              <li>
                <a href="Drupal.viewsUi.OptionsSearch.html">Drupal.viewsUi.OptionsSearch</a>
              </li>
              <li>
                <a href="Drupal.viewsUi.RearrangeFilterHandler.html">Drupal.viewsUi.RearrangeFilterHandler</a>
              </li>
            </ul>
            <h3>
              Events
            </h3>
            <ul>
              <li>
                <a href="global.html#event:drupalViewportOffsetChange">event:drupalViewportOffsetChange</a>
              </li>
              <li>
                <a href="global.html#event:formUpdated">event:formUpdated</a>
              </li>
              <li>
                <a href="global.html#event:summaryUpdated">event:summaryUpdated</a>
              </li>
            </ul>
            <h3>
              Namespaces
            </h3>
            <ul>
              <li>
                <a href="Drupal.html" class="root">Drupal</a>
              </li>
              <li>
                <a href="Drupal.behaviors.html">Drupal.behaviors</a>
              </li>
              <li>
                <a href="Drupal.color.html">Drupal.color</a>
              </li>
              <li>
                <a href="Drupal.contextual.html">Drupal.contextual</a>
              </li>
              <li>
                <a href="Drupal.contextualToolbar.html">Drupal.contextualToolbar</a>
              </li>
              <li>
                <a href="Drupal.edit.html">Drupal.edit</a>
              </li>
              <li>
                <a href="Drupal.edit.metadata.html">Drupal.edit.metadata</a>
              </li>
              <li>
                <a href="Drupal.edit.util.html">Drupal.edit.util</a>
              </li>
              <li>
                <a href="Drupal.edit.util.constants.html">Drupal.edit.util.constants</a>
              </li>
              <li>
                <a href="Drupal.edit.util.form.html">Drupal.edit.util.form</a>
              </li>
              <li>
                <a href="Drupal.editorConfiguration.html">Drupal.editorConfiguration</a>
              </li>
              <li>
                <a href="Drupal.editors.html">Drupal.editors</a>
              </li>
              <li>
                <a href="Drupal.fieldUIDisplayOverview.html">Drupal.fieldUIDisplayOverview</a>
              </li>
              <li>
                <a href="Drupal.fieldUIOverview.html">Drupal.fieldUIOverview</a>
              </li>
              <li>
                <a href="Drupal.file.html">Drupal.file</a>
              </li>
              <li>
                <a href="Drupal.filterConfiguration.html">Drupal.filterConfiguration</a>
              </li>
              <li>
                <a href="Drupal.filterConfiguration.liveSettingParsers.html">Drupal.filterConfiguration.liveSettingParsers</a>
              </li>
              <li>
                <a href="Drupal.history.html">Drupal.history</a>
              </li>
              <li>
                <a href="Drupal.states.html">Drupal.states</a>
              </li>
              <li>
                <a href="Drupal.states.Trigger.states.html">Drupal.states.Trigger.states</a>
              </li>
              <li>
                <a href="Drupal.theme.html">Drupal.theme</a>
              </li>
              <li>
                <a href="Drupal.toolbar.html">Drupal.toolbar</a>
              </li>
              <li>
                <a href="Drupal.tour.html">Drupal.tour</a>
              </li>
              <li>
                <a href="Drupal.tour.models.html">Drupal.tour.models</a>
              </li>
              <li>
                <a href="Drupal.tour.views.html">Drupal.tour.views</a>
              </li>
              <li>
                <a href="Drupal.Views.html">Drupal.Views</a>
              </li>
              <li>
                <a href="Drupal.views_.html">Drupal.views</a>
              </li>
              <li>
                <a href="Drupal.viewsUi.html">Drupal.viewsUi</a>
              </li>
            </ul>
            <h3>
              Global
            </h3>
            <ul>
              <li>
                <a href="global.html#drupalSettings" class="root">drupalSettings</a>
              </li>
              <li>
                <a href="global.html#matchMedia" class="root">matchMedia</a>
              </li>
            </ul>
            <p>
              <strong>For more information about this documentation please see <a href="#todo">Issue #XXX</a>.</strong>
            </p>
          </div>
        </nav>
      </div>
    </div><script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47079344-1', 'theodoreb.net');
    ga('send', 'pageview');
    </script><script type="text/javascript">
prettyPrint();
    </script><script src="scripts/linenumber.js" type="text/javascript">
</script>
  </body>
</html>
